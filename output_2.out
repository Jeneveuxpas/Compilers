<Keyword,struct>
<identifier,segment_tree>
<Delimiter,{>
<Keyword,struct>
<identifier,tree>
<Delimiter,{>
<Keyword,int>
<identifier,l>
<Delimiter,,>
<identifier,r>
<Delimiter,,>
<identifier,val>
<Delimiter,,>
<identifier,laz>
<Delimiter,;>
<Delimiter,}>
<identifier,tr>
<Delimiter,[>
<identifier,N>
<Operator,<<>
<Number,2>
<Delimiter,]>
<Delimiter,;>
<Keyword,void>
<identifier,pushup>
<Delimiter,(>
<Keyword,int>
<identifier,x>
<Delimiter,)>
<Delimiter,{>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,val>
<Operator,=>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Operator,<<>
<Number,1>
<Delimiter,]>
<Operator,.>
<identifier,val>
<Operator,+>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Operator,<<>
<Number,1>
<Operator,|>
<Number,1>
<Delimiter,]>
<Operator,.>
<identifier,val>
<Delimiter,;>
<Delimiter,}>
<Keyword,void>
<identifier,build>
<Delimiter,(>
<Keyword,int>
<identifier,x>
<Delimiter,,>
<Keyword,int>
<identifier,l>
<Delimiter,,>
<Keyword,int>
<identifier,r>
<Delimiter,)>
<Delimiter,{>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,l>
<Operator,=>
<identifier,l>
<Delimiter,,>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,r>
<Operator,=>
<identifier,r>
<Delimiter,,>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,laz>
<Operator,=>
<Number,0>
<Delimiter,;>
<Keyword,if>
<Delimiter,(>
<identifier,l>
<Operator,==>
<identifier,r>
<Delimiter,)>
<Delimiter,{>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,val>
<Operator,=>
<identifier,a>
<Delimiter,[>
<identifier,l>
<Delimiter,]>
<Delimiter,;>
<Keyword,return>
<Delimiter,;>
<Delimiter,}>
<Keyword,int>
<identifier,mid>
<Operator,=>
<identifier,l>
<Operator,+>
<identifier,r>
<Operator,>>>
<Number,1>
<Delimiter,;>
<identifier,build>
<Delimiter,(>
<identifier,x>
<Operator,<<>
<Number,1>
<Delimiter,,>
<identifier,l>
<Delimiter,,>
<identifier,mid>
<Delimiter,)>
<Delimiter,;>
<identifier,build>
<Delimiter,(>
<identifier,x>
<Operator,<<>
<Number,1>
<Operator,|>
<Number,1>
<Delimiter,,>
<identifier,mid>
<Operator,+>
<Number,1>
<Delimiter,,>
<identifier,r>
<Delimiter,)>
<Delimiter,;>
<identifier,pushup>
<Delimiter,(>
<identifier,x>
<Delimiter,)>
<Delimiter,;>
<Delimiter,}>
<Keyword,void>
<identifier,mark>
<Delimiter,(>
<Keyword,int>
<identifier,x>
<Delimiter,,>
<Keyword,int>
<identifier,k>
<Delimiter,)>
<Delimiter,{>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,val>
<Operator,+=>
<Delimiter,(>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,r>
<Operator,->
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,l>
<Operator,+>
<Number,1>
<Delimiter,)>
<Operator,*>
<identifier,k>
<Delimiter,;>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,laz>
<Operator,+=>
<identifier,k>
<Delimiter,;>
<Delimiter,}>
<Keyword,void>
<identifier,pushdown>
<Delimiter,(>
<Keyword,int>
<identifier,x>
<Delimiter,)>
<Delimiter,{>
<identifier,mark>
<Delimiter,(>
<identifier,x>
<Operator,<<>
<Number,1>
<Delimiter,,>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,laz>
<Delimiter,)>
<Delimiter,;>
<identifier,mark>
<Delimiter,(>
<identifier,x>
<Operator,<<>
<Number,1>
<Operator,|>
<Number,1>
<Delimiter,,>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,laz>
<Delimiter,)>
<Delimiter,;>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,laz>
<Operator,=>
<Number,0>
<Delimiter,;>
<Delimiter,}>
<Keyword,void>
<identifier,update>
<Delimiter,(>
<Keyword,int>
<identifier,x>
<Delimiter,,>
<Keyword,int>
<identifier,l>
<Delimiter,,>
<Keyword,int>
<identifier,r>
<Delimiter,,>
<Keyword,int>
<identifier,k>
<Delimiter,)>
<Delimiter,{>
<Keyword,if>
<Delimiter,(>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,l>
<Operator,>=>
<identifier,l>
<Operator,&&>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,r>
<Operator,<=>
<identifier,r>
<Delimiter,)>
<Delimiter,{>
<identifier,mark>
<Delimiter,(>
<identifier,x>
<Delimiter,,>
<identifier,k>
<Delimiter,)>
<Delimiter,;>
<Keyword,return>
<Delimiter,;>
<Delimiter,}>
<identifier,pushdown>
<Delimiter,(>
<identifier,x>
<Delimiter,)>
<Delimiter,;>
<Keyword,int>
<identifier,mid>
<Operator,=>
<Delimiter,(>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,l>
<Operator,+>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,r>
<Delimiter,)>
<Operator,>>>
<Number,1>
<Delimiter,;>
<Keyword,if>
<Delimiter,(>
<identifier,mid>
<Operator,>=>
<identifier,l>
<Delimiter,)>
<identifier,update>
<Delimiter,(>
<identifier,x>
<Operator,<<>
<Number,1>
<Delimiter,,>
<identifier,l>
<Delimiter,,>
<identifier,r>
<Delimiter,,>
<identifier,k>
<Delimiter,)>
<Delimiter,;>
<Keyword,if>
<Delimiter,(>
<identifier,mid>
<Operator,<>
<identifier,r>
<Delimiter,)>
<identifier,update>
<Delimiter,(>
<identifier,x>
<Operator,<<>
<Number,1>
<Operator,|>
<Number,1>
<Delimiter,,>
<identifier,l>
<Delimiter,,>
<identifier,r>
<Delimiter,,>
<identifier,k>
<Delimiter,)>
<Delimiter,;>
<identifier,pushup>
<Delimiter,(>
<identifier,x>
<Delimiter,)>
<Delimiter,;>
<Delimiter,}>
<Keyword,int>
<identifier,query>
<Delimiter,(>
<Keyword,int>
<identifier,x>
<Delimiter,,>
<Keyword,int>
<identifier,l>
<Delimiter,,>
<Keyword,int>
<identifier,r>
<Delimiter,)>
<Delimiter,{>
<Keyword,if>
<Delimiter,(>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,l>
<Operator,>=>
<identifier,l>
<Operator,&&>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,r>
<Operator,<=>
<identifier,r>
<Delimiter,)>
<Delimiter,{>
<Keyword,return>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,val>
<Delimiter,;>
<Delimiter,}>
<identifier,pushdown>
<Delimiter,(>
<identifier,x>
<Delimiter,)>
<Delimiter,;>
<Keyword,int>
<identifier,mid>
<Operator,=>
<Delimiter,(>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,l>
<Operator,+>
<identifier,tr>
<Delimiter,[>
<identifier,x>
<Delimiter,]>
<Operator,.>
<identifier,r>
<Delimiter,)>
<Operator,>>>
<Number,1>
<Delimiter,;>
<Keyword,int>
<identifier,ans>
<Operator,=>
<Number,0>
<Delimiter,;>
<Keyword,if>
<Delimiter,(>
<identifier,l>
<Operator,<=>
<identifier,mid>
<Delimiter,)>
<identifier,ans>
<Operator,=>
<Delimiter,(>
<identifier,ans>
<Delimiter,,>
<identifier,query>
<Delimiter,(>
<identifier,x>
<Operator,<<>
<Number,1>
<Delimiter,,>
<identifier,l>
<Delimiter,,>
<identifier,r>
<Delimiter,)>
<Delimiter,)>
<Delimiter,;>
<Keyword,if>
<Delimiter,(>
<identifier,mid>
<Operator,<>
<identifier,r>
<Delimiter,)>
<identifier,ans>
<Operator,=>
<Delimiter,(>
<identifier,ans>
<Delimiter,,>
<identifier,query>
<Delimiter,(>
<identifier,x>
<Operator,<<>
<Number,1>
<Operator,|>
<Number,1>
<Delimiter,,>
<identifier,l>
<Delimiter,,>
<identifier,r>
<Delimiter,)>
<Delimiter,)>
<Delimiter,;>
<Keyword,return>
<identifier,ans>
<Delimiter,;>
<Delimiter,}>
<Delimiter,}>
<identifier,tr>
<Delimiter,;>
